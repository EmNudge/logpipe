<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CLI Input</title>
  <link rel="icon" type="image/svg+xml"
    href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 640 512'%3E%3Cpath d='M257.981 272.971L63.638 467.314c-9.373 9.373-24.569 9.373-33.941 0L7.029 444.647c-9.357-9.357-9.375-24.522-.04-33.901L161.011 256L6.99 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L257.981 239.03c9.373 9.372 9.373 24.568 0 33.941zM640 456v-32c0-13.255-10.745-24-24-24H312c-13.255 0-24 10.745-24 24v32c0 13.255 10.745 24 24 24h304c13.255 0 24-10.745 24-24z' fill='currentColor'%3E%3C/path%3E%3C/svg%3E">

  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" media="(prefers-color-scheme:light)"
    href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.0/cdn/themes/light.css">
  <link rel="stylesheet" media="(prefers-color-scheme:dark)"
    href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.0/cdn/themes/dark.css"
    onload="document.documentElement.classList.add('sl-theme-dark');">
  <script type="module"
    src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.0/cdn/shoelace-autoloader.js"></script>
</head>

<body>
  <main>
    <h1>CLI Input</h1>
    <header>
      <div class="log-count">
        <span class="total"></span>
        <span class="filtered"></span>
      </div>
      <div class="tags"></div>
      <div class="hide tags-overflow">
        <sl-button class="view-tags-btn">
          View Tags
          <sl-badge pill>30</sl-badge>
        </sl-button>
        <sl-dialog class="tags-dialog" label="Tags">

        </sl-dialog>
      </div>
    </header>
    <div class="container"></div>
    <div class="input-container">
      <sl-input class="filter" placeholder="filter..."></sl-input>
      <sl-button class="down-button" circle label="Go Down">â†“</sl-button>
    </div>
  </main>

  <script type="module" src="./index.js"></script>

  <sl-menu class="contextmenu">
    <sl-menu-item value="copy-log">Copy log contents</sl-menu-item>
    <sl-menu-item value="copy-id">Copy ID</sl-menu-item>
    <sl-menu-item value="copy-date">Copy date</sl-menu-item>
    <sl-menu-item value="jump">Jump to location</sl-menu-item>
  </sl-menu>

  <sl-alert class="copy-notif" variant="success" duration="3000" closable>
    <sl-icon slot="icon" name="check2-circle"></sl-icon>
    <strong>Copied <span class="copy-label"></span> to clipboard</strong>
  </sl-alert>

  <sl-dialog class="command-palette" label="Command Palette">
    <form class="palette-form">
      <sl-input class="palette-filter" autofocus placeholder="Search"></sl-input>
      <sl-menu>
        <sl-menu-item value="set-title">Set Title</sl-menu-item>
        <sl-menu-item value="help">Help</sl-menu-item>
      </sl-menu>
    </form>

    <form class="hide title-form">
      <sl-input autofocus placeholder="New page title"></sl-input>
    </form>
    <form class="hide help-menu">
      <dl>
        <dt>My logs aren't showing!</dt>
        <dd>
          <p>Your logs may be outputting to stderr. Try using bash redirection.</p>
          <p>
            <code>my-program <strong>2>&1</strong> | logpipe</code>
          </p>
        </dd>
        
        <dt>How do I copy a log?</dt>
        <dd>
          <p>Try out the right-click menu! Right click a log for a list of options.</p>
        </dd>

        <dt>How do I jump to a log's source location?</dt>
        <dd>
          <p>Also in the right-click menu!</p>
        </dd>

        <dt>How do I search for all URLs?</dt>
        <dd>
          <p>Use the logpipe query language!</p>
          <p>
            <code>@@url</code>
          </p>
        </dd>

        <dt>What are the supported query types?</dt>
        <dd>
          <p>Here is a query which includes all of them!</p>
          <p>
            <code class="multiline">@@string,number,tag,url,ip,error,file,http-method,key,value,keyword</code>
          </p>
        </dd>
      </dl>

      <div class="form-footer">
        <sl-button type="submit">Got It!</sl-button>
      </div>
    </form>
  </sl-dialog>

  <!-- templates -->
  <div class="template log" tabindex="0"></div>
  <sl-badge class="template badge" variant="neutral" tabindex="0" role="button" aria-pressed="false">
  </sl-badge>
</body>

</html>